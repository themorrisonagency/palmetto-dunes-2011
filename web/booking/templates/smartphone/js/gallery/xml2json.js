if(window.jQuery)(function(e){e.extend({xml2json:function(t,n){function r(t,s){if(!t)return null;var u="",a=null,f=null;var l=t.nodeType,c=i(t.localName||t.nodeName);var h=t.text||t.nodeValue||"";if(t.childNodes){if(t.childNodes.length>0){e.each(t.childNodes,function(e,t){var n=t.nodeType,s=i(t.localName||t.nodeName);var f=t.text||t.nodeValue||"";if(n==8){return}else if(n==3||n==4||!s){if(f.match(/^\s+$/)){return}u+=f.replace(/^\s+/,"").replace(/\s+$/,"")}else{a=a||{};if(a[s]){if(!a[s].length)a[s]=o(a[s]);a[s]=o(a[s]);a[s][a[s].length]=r(t,true);a[s].length=a[s].length}else{a[s]=r(t)}}})}}if(t.attributes){if(t.attributes.length>0){f={};a=a||{};e.each(t.attributes,function(e,t){var n=i(t.name),r=t.value;f[n]=r;if(a[n]){a[cnn]=o(a[cnn]);a[n][a[n].length]=r;a[n].length=a[n].length}else{a[n]=r}})}}if(a){a=e.extend(u!=""?new String(u):{},a||{});u=a.text?(typeof a.text=="object"?a.text:[a.text||""]).concat([u]):u;if(u)a.text=u;u=""}var p=a||u;if(n){if(u)p={};u=p.text||u||"";if(u)p.text=u;if(!s)p=o(p)}return p}function s(e){var t=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;return typeof e=="number"||t.test(String(e&&typeof e=="string"?jQuery.trim(e):""))}if(!t)return{};var i=function(e){return String(e||"").replace(/-/g,"_")};var o=function(t){if(!e.isArray(t))t=[t];t.length=t.length;return t};if(typeof t=="string")t=e.text2xml(t);if(!t.nodeType)return;if(t.nodeType==3||t.nodeType==4)return t.nodeValue;var u=t.nodeType==9?t.documentElement:t;var a=r(u,true);t=null;u=null;return a},text2xml:function(t){var n;try{var r=e.browser.msie?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser;r.async=false}catch(i){throw new Error("XML Parser could not be instantiated")}try{if(e.browser.msie)n=r.loadXML(t)?r:false;else n=r.parseFromString(t,"text/xml")}catch(i){throw new Error("Error parsing XML string")}return n}})})(jQuery)